\documentclass[a4paper, 12pt]{article}

\usepackage{graphicx}
\usepackage{float}
\graphicspath{ {img/} }

\newcommand{\templates}{../../template}
\input{\templates/style}
\input{\templates/front_page}
\input{\templates/history}

\settitolo{Manuale Utente}
\setprogetto{Lumos Minima}
\setcommittenti{Imola Informatica}
\setredattori{Soldà Matteo}
\setdestuso{esterno}
\setdescrizione{
Questo documento descrive le funzionalità del programma a coloro che dovessero usufruirne.
}

\addversione{0.0.0}{05/09/2023}{Soldà Matteo}{}{Stesura scheletro}
\addversione{0.0.1}{07/09/2023}{Soldà Matteo}{}{Stesura prima bozza contenuto}
\begin{document}
\makeindexdetails
\makefrontpage \makeversioni
\tableofcontents
\newpage
\clearpage
\makecontentsdetails{Manuale Utente}
\newpage
\section{Introduzione e Origine del Progetto}
Questo documento, destinato agli utenti finali del programma, descrive le funzionalità implementate e come utilizzarle al meglio.\\ \\
La crisi internazionale determinata dal conflitto Russia-Ucraina iniziato nel 2022 ha cambiato radicalmente gli assetti geopolitici. Oltre ai notevoli costi sociali ed economici, ripropone a livello globale la centralità di temi energetici e ambientali.\\
Il risparmio delle risorse del Pianeta, e in particolare delle fonti energetiche è entrato con forza nell'agenda politica dell'Unione Europea. Fra gli impatti più evidenti, spicca la crescita esponenziale del prezzo del gas, risorsa ancora largamente utilizzata come materia prima per la produzione di energia elettrica. Mentre in sede di Commissione Europea è in corso un acceso di dibattito sul tetto al prezzo del gas, in Italia si susseguono misure atte al risparmio energetico.\\\\
Accanto a tali criticità, figurano il cambiamento climatico e il surriscaldamento globale che rappresentano un'ulteriore emergenza: gli altissimi livelli di emissioni di anidride carbonica e la gestione dei così detti gas serra che stanno irreversibilmente modificando il clima, il Pianeta e l'eredità che lasceremo alle generazioni future.\\\\
Per far fronte al rincaro delle bollette energetiche, molti Comuni italiani stanno annunciando il taglio dell'illuminazione pubblica, che necessita di una quantità considerevole di energia elettrica.\\\\
Con questo progetto proponiamo un sistema per l'ottimizzazione dell'illuminazione pubblica che permetta ai gestori di sfruttare la possibilità di regolare l'intensità della luce emessa dagli impianti di illuminazione. Un sistema così congegnato consentirebbe, da un lato, di garantire sicurezza stradale e sociale, e dall'altro permetterebbe di risparmiare energia e di conseguenza risorse economiche e ambientali.

\newpage
\section{Utenza}
\subsection{Informazioni Preliminari}
L'applicazione permette l'utilizzo di 3 tipi di utente:
\begin{itemize}
    \item Utente base
    \item Utente amministratore (admin)
    \item Utente manutentore
\end{itemize}
L'utilizzo dell'utente \textbf{base} permette di utilizzare tutte le funzionalità di base dell'applicazione, tra cui la creazione, la modifica e la rimozione di tutti gli elementi presenti a sistema, oltre alla possibilità di segnalare i guasti agli impianti luminosi.\\ \\
L'utilizzo dell'utente \textbf{amministratore} permette di fare tutto ciò che l'utente base può fare, con l'aggiunta della possibilità di modificare i ruoli degli altri utenti.\\ \\
L'utilizzo dell'utente \textbf{manutentore} permette di fare tutto ciò che l'utente base può fare, con l'aggiunta della possibilità di visualizzare la lista dei lampioni guasti area per area, permettendo inoltre di segnalare la loro riparazione.

\subsection{Login}
Il login è la prima cosa che viene richiesta qualora si raggiungesse l'indirizzo dell'applicazione. In questa schermata andrà inserito lo username e la password del proprio utente. Qualora i dati inseriti siano corretti, si verrà renderizzati automaticamente alla dashboard, altrimenti verrà riproposta la pagina di login con un errore. La durata della sessione dopo un login effettuato con successo è di un'ora.
% Immagine della schermata di login
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{login}
\caption{Pagina di login}
\end{figure}

\subsection{Logout}
La funzionalità di logout permette di terminare la sessione generata da un precedente login non ancora scaduto. Il pulsante per il logout è posizionato nella dashboard nell'angolo in alto a destra.
% Immagine del pulsante di logout
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{EsempioBreadcrumbConEsci}
\caption{Esempio di barra di breadcrumb con pulsante di logout}
\end{figure}

\newpage
\section{Aree Illuminate}
\subsection{Informazioni Preliminari}
Le aree illuminate sono la componente di base dell'applicazione. Esse al loro interno possono contenere molteplici lampioni e sensori che interagiscono in modo diverso coerentemente alla loro configurazione.
\subsection{Lista Aree Illuminate}
Entrando nella dashboard dopo il login, verrà presentata la lista delle aree illuminate che sono state inserite a sistema. Ogni area presenta come informazione il proprio ID (generato automaticamente), il nome assegnato, la descrizione, la latitudine e la longitudine. Al fianco di queste informazioni sono presentati tre pulsanti: informazioni, modifica ed elimina. \\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ListaAree}
\caption{Esempio di lista delle aree}
\end{figure}
Il pulsante \textit{informazioni} permette di caricare tutte le informazioni dell'area illuminata, permettendo inoltre di visualizzare i lampioni e i sensori ad essa collegati.\\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{InfoArea}
\caption{Esempio di informazioni di una singola area}
\end{figure}
Il pulsante \textit{modifica} permette di aprire una schermata dalla quale modificare i dati dell'area. La formattazione è analoga a quella dell'aggiunta dell'area.\\
Il pulsante \textit{elimina} permette di eliminare l'area. L'azione non avviene subito dopo la pressione del pulsante, ma richiede una seconda conferma tramite modale. \\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ModaleEliminazioneArea}
\caption{Richiesta di conferma per l'eliminazione di un'area illuminata e di tutti i lampioni e sensori ad essa associati}
\end{figure}

Al di sopra della lista delle aree è presente un pulsante che permette di inerire una nuova area, funzionalità che verrà descritta nella prossima sottosezione
% Immagine della lista aree (belle popolate ovviamente)
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{FormAggiuntaArea}
\caption{Form richiedente le informazioni dell'area da aggiungere a sistema}
\end{figure}
% Manca la descrizione del selettore che permette di modificare la luminosità di tutti i lampioni dell'area

\subsection{Inserimento, Modifica e Rimozione di un'Area Illuminata}
\subsubsection{Inserimento}
Al di sopra della lista delle aree è presente un pulsante che riporta l'etichetta \textit{Aggiungi Area} che, alla pressione, apre una nuova schermata nella quale vengono richiesti i dati della nuova area che si vuole inserire a sistema.
% Scrivere anche cosa viene richiesto?
% Immagine del pulsante

\subsubsection{Modifica}
A lato delle informazioni riportate nella tabella delle aree, c'è un pulsante con i bordi e la scritta gialli. Questo pulsante riporta ad una schermata molto simile a quella della creazione della nuova area dalla quale si possono modificare i dati dell'area per la quale si è premuto il pulsante

\subsubsection{Rimozione}
A lato delle informazioni riportate nella tabella delle aree, c'è un pulsante con i bordi e la scritta rossi. Il pulsante serve per eliminare l'area di riferimento. Prima della eliminazione verrà richiesta una seconda conferma tramite una modale

\newpage
\section{Lampioni}
\subsection{Informazioni Preliminari}
I lampioni rappresentano la componente illuminante dell'area. Essi possono interagire in due modi diversi in base alla modalità che viene impostata:
\begin{itemize}
    \item Manuale (Pull): il lampione non si accende subito qualora il sensore rilevasse un movimento, ma utilizza il token generato dal sensore e depositato nel database e verifica ciclicamente se esiste un token valido da utilizzare;
    \item Automatico (Push): il lampione riceve un segnale di accensione istantaneo qualora il sensore rilevasse un movimento.
\end{itemize}
Inoltre, si può decidere se un lampione è recettivo rispetto ai segnali oppure no. Qualora un lampione fosse attivo (ON), allora sarà responsivo ai segnali, mentre qualora fosse disattivo (OFF) la sua gestione sarà di competenza dell'operatore umano.
\subsection{Lista Lampioni per Area}
Aprendo le informazioni di una singola area, al di sotto delle informazioni della stessa si troverà la lista dei lampioni collegati all'area selezionata.\\
Per ogni lampione, sono mostrate nella lista: l'ID (generato automaticamente), lo stato, l'intensità luminosa attuale e il nome del lampione. Al fianco di queste informazioni sono presentati quattro pulsanti: informazioni, modifica, elimina e segnala guasto. \\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ListaLampioni}
\caption{Esempio di lista dei lampioni}
\end{figure}
Il pulsante \textit{informazioni} permette di caricare tutte le informazioni del lampione.\\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{InfoLampione}
\caption{Esempio di informazioni di un singolo lampione}
\end{figure}
Il pulsante \textit{modifica} permette di aprire una schermata dalla quale modificare i dati del lampione.\\
Il pulsante \textit{elimina} permette di eliminare il lampione. L'azione non avviene subito dopo la pressione del pulsante, ma richiede una seconda conferma tramite modale. \\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ModaleEliminazioneLampione}
\caption{Richiesta di conferma per l'eliminazione di lampione }
\end{figure}
Il pulsante \textit{segnala guasto} permette di segnalare manualmente un guasto rilevato nel lampione, inserendolo di conseguenza nella lista guasti (questa funzionalità attualmente è esclusiva dell'utente base e dell'amministratore).\\
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ListaLampioniConGuasti}
\caption{I lampioni già segnalati come guasti presenteranno al posto del pulsante, una X rossa con un tooltip che indica che l'azione è già stata effettuata}
\end{figure}
Qualora si effettuasse l'accesso con l'utente manutentore, al termine della lista sarà possibile visualizzare un pulsante grigio che permette di visualizzare i dati dei lampioni guasti, oltre a poter segnalare la loro riparazione con successiva rimozione dalla lista dei guasti.
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ListaLampioniVistaManutentore}
\caption{Lista dei lampioni con pulsante per la visualizzazione del pulsante per la visualizzazione della lista dei lampioni guasti (solo accedendo come manutentore)}
\end{figure}

\subsection{Inserimento, Modifica e Rimozione di un Lampione}
\subsubsection{Inserimento}
Al di sopra della lista dei lampioni è presente un pulsante che riporta l'etichetta \textit{Aggiungi Lampione} che, alla pressione, apre una nuova schermata nella quale vengono richiesti i dati del nuovo impianto luminoso che si vuole inserire a sistema.
% Scrivere anche cosa viene richiesto?
% Immagine del pulsante

\subsubsection{Modifica}
A lato delle informazioni riportate nella tabella dei lampioni, c'è un pulsante con i bordi e la scritta gialli. Questo pulsante riporta ad una schermata molto simile a quella della creazione del nuovo lampione dalla quale si possono modificare i dati del lampione per il quale si è premuto il pulsante

\subsubsection{Rimozione}
A lato delle informazioni riportate nella tabella dei lampioni, c'è un pulsante con i bordi e la scritta rossi. Il pulsante serve per eliminare il lampione di riferimento. Prima della eliminazione verrà richiesta una seconda conferma tramite una modale

\subsubsection{Seganalzione Guasto e Lista Guasti}
A lato delle informazioni riportate nella tabella dei lampioni, c'è un pulsante nero con la scritta bianca. Il pulsante serve per segnalare manualmente un lampione guasto, che verrà quindi inserito nella lista guasti (visualizzabile solo dall'utente manutentore).
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ModaleGuastoLampione}
\caption{Richiesta di conferma l'aggiunta di un lampione alla lista dei guastii}
\end{figure}
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ListaGuastiVistaManutentore}
\caption{Esempio di lista dei lampioni segnalati come guasti}
\end{figure}
\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{ModaleRiparazioneLampione}
\caption{Richiesta di conferma per la rimozione del lampione dalla lista guasti}
\end{figure}

\newpage
\section{Sensori}
\subsection{Informazioni Preliminari}
Il sensore è la componente dell'area che ha lo scopo di rilevare e di conseguenza segnalare i movimenti di cose, persone e animali nel suo raggio d'azione. Tra i suoi elementi, ne spicca uno in particolare: la durata della segnalazione. Questo parametro serve a indicare per quanto tempo i lampioni impostati in modalità manuale possano visualizzare la segnalazione come valida durare la verifica ciclica.
\subsection{Lista Sensori per Area}
Aprendo le informazioni di una singola area, al di sotto delle informazioni dei lampioni si troverà la lista dei sensori collegati all'area selezionata.\\
Per ogni sensore, sono mostrate nella lista: l'ID (generato automaticamente), l'indirizzo IP e il nome del sensore. Al fianco di queste informazioni sono presentati tre pulsanti: informazioni, modifica ed elimina. \\
Il pulsante \textit{informazioni} permette di caricare tutte le informazioni del sensore.\\
Il pulsante \textit{modifica} permette di aprire una schermata dalla quale modificare i dati del sensore.\\
Il pulsante \textit{elimina} permette di eliminare il sensore. L'azione non avviene subito dopo la pressione del pulsante, ma richiede una seconda conferma tramite modale. \\

\subsection{Inserimento, Modifica e Rimozione di un Sensore}
\subsubsection{Inserimento}
Al di sopra della lista dei sensori è presente un pulsante che riporta l'etichetta \textit{Aggiungi Sensore} che, alla pressione, apre una nuova schermata nella quale vengono richiesti i dati del nuovo impianto di rilevamento che si vuole inserire a sistema.
% Scrivere anche cosa viene richiesto?
% Immagine del pulsante

\subsubsection{Modifica}
A lato delle informazioni riportate nella tabella dei sensori, c'è un pulsante con i bordi e la scritta gialli. Questo pulsante riporta ad una schermata molto simile a quella della creazione del nuovo sensore dalla quale si possono modificare i dati del sensore per il quale si è premuto il pulsante

\subsubsection{Rimozione}
A lato delle informazioni riportate nella tabella dei sensori, c'è un pulsante con i bordi e la scritta rossi. Il pulsante serve per eliminare il sensore di riferimento. Prima della eliminazione verrà richiesta una seconda conferma tramite una modale

\end{document}